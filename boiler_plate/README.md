# BOILER PLATE FOR MATRIX ELEMENT CALCULATIONS

The code is purely in C++ and is designed to take pre-computed momenta and produce matrix elements.

Before using the workflow, several preparation steps are required.

## Prerequisites

### 1. Install CADNA
The workflow supports stochastic arithmetic through the CADNA library.  
Ensure CADNA is correctly installed on your system.

To enable CADNA during compilation, build with:

`
-D__CADNA
`


(If using CMake, this can be added via `target_compile_definitions` pre prepared `add_definition` or a cache option.)

### 2. Generate the external momenta
This workflow requires momenta generated by the original MadGraph5 (MG5) code that has been CADNA-modified.

Prepare the cadnidized MG5 executable by running the script `./Cadnize.sh` in the process folder.

Run the CADNA-enabled MG5 executable where `e` stands for number of events (need to be multiple of 8):

`./check.exe e 1 1 -p -v > momnta.txt`

This script produces the momenta needed by the matrix element code.

Else one can run this indirectly with `./test.sh float O3 1` script which also produces histograms automatically.

> **Important:** This step must be completed before running the workflow below.

### 3. Copy required MG5-generated sources
After generating the momenta, copy the following  MG5 source files into the `./src` directory of this project:

- `colour_sum.cc`
- `colour_sum.h`
- `CPPProcess.cc`
- `CPPProcess.h`
- `HelAmps_sm.h`
- `Parameters_sm.h`
- `Parameters_sm.cc`
- `param_card.dat` into `./src/Cards`

These files contain all process-specific logic required for computing matrix elements.

### 4. Make the files boilerplate-ready

Run the script `./make_boilerplate.sh` to prepare the files for compilation.